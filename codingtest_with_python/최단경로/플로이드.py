# condingtest_with_python_part3_ìµœë‹¨ê²½ë¡œ
# í”Œë¡œì´ë“œ.py

# ë‚˜ì˜ í’€ì´ (êµì¬ í•´ì„¤ ì°¸ê³ )


# ë‚˜ì˜ í’€ì´ (ì£¼ì–´ì§„ í’€ì´ ì‹œê°„ : 40ë¶„, í’€ì´ ì‹œê°„ : ë¶„ ì´ˆ )

## ëª¨ë“  ë„ì‹œì˜ ìŒ a,b ì— ëŒ€í•´ aì—ì„œ bë¡œ ê°€ëŠ” ë° í•„ìš”í•œ ìµœì†Œë¹„ìš©ì„ êµ¬í•˜ëŠ” ê²ƒ
## ëª¨ë“  ë…¸ë“œì—ì„œ ë‹¤ë¥¸ ëª¨ë“  ë…¸ë“œë¡œ ê°€ëŠ” ìµœë‹¨ê±°ë¦¬ êµ¬í•˜ê¸° => í”Œë¡œì´ë“œ ì›Œì…œ ì•Œê³ ë¦¬ì¦˜ ì‚¬ìš©
## ë„ì‹œ => ë…¸ë“œ
## ë²„ìŠ¤ => ê°„ì„ 
## ìœ„ì™€ ê°™ì´ ìƒê°í•˜ê³  í’€ì–´ë³´ì
INF = 1e9

v = int(input()) # ë„ì‹œì˜ ê°œìˆ˜
e = int(input()) # ë²„ìŠ¤ì˜ ê°œìˆ˜

graph = [[INF] * (v + 1) for _ in range(v + 1)]

## graph ì´ˆê¸° ì„¸íŒ…(ìê¸°ìì‹ ìœ¼ë¡œ ê°€ëŠ” ê²ƒë“¤ì€ ëª¨ë‘ 0ìœ¼ë¡œ ì´ˆê¸°í™”)
for i in range(1, v + 1):
    for j in range(1, v + 1):
        if i == j:
            graph[i][j] = 0

## ê°„ì„ ì •ë³´ (ë²„ìŠ¤ë¹„ìš© ì •ë³´ ì…ë ¥ë°›ê¸°)
for _ in range(e):
    a, b, c = map(int, input().split())
    # aì—ì„œ bë¡œ ê°€ëŠ” ë¹„ìš©ì´ c
    graph[a][b] = c
 
## í”Œë¡œì´ë“œ ì›Œì…œ ì•Œê³ ë¦¬ì¦˜ ìˆ˜í–‰ 
for k in range(1, v + 1):
    for i in range(1, v + 1):
        for j in range(1, v + 1):
            graph[i][j] = min(graph[i][j], graph[i][k] + graph[k][j])   

## ê²°ê³¼ ì¶œë ¥
for i in range(1, v + 1):
    for j in range(1, v + 1):
        if graph[i][j] == INF:
            print(0, end = ' ')
        else:
            print(graph[i][j], end = ' ')
    print()

# êµì¬ í’€ì´

# ëŠë‚€ì 
"""

"""

"""
ğŸ“° Codingtest_with_python_part3_ìµœë‹¨ê²½ë¡œ_í”Œë¡œì´ë“œ
"ì´ê²ƒì´ì·¨ì—…ì„ìœ„í•œì½”ë”©í…ŒìŠ¤íŠ¸ë‹¤" í•™ìŠµ ìˆœì„œ 3ë‹¨ê³„
Part3 ê¸°ì¶œë¬¸ì œ ìµœë‹¨ê²½ë¡œ ë¬¸ì œ í’€ì´ ëŠë‚€ì 
"""
